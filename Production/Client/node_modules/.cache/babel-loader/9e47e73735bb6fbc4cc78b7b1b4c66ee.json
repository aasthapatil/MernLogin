{"ast":null,"code":"var _jsxFileName = \"/Users/ayushsalik/mernboilerplate/client/src/Login/Register.component.js\";\nimport React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport passwordStrength from \"zxcvbn\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport api from \"../utils/config\";\nimport PasswordStrengthBar from \"react-password-strength-bar\";\nimport Notif from \"../utils/Notification.component\";\n\nfunction Copyright() {\n  return /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, \"Copyright Â© \", /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, \"Your Website\"), \" \", new Date().getFullYear(), \".\");\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\nexport default function Register() {\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const [emailHelper, setEmailHelper] = useState(\"\");\n  const [emailError, setEmailError] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [cpassword, setCpassword] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [passwordHelperText, setPasswordHelperText] = useState(\"\");\n  const [passwordsMatch, setPasswordsMatch] = useState(true);\n  const [passwordScore, setPasswordScore] = useState(0);\n  const [notifMessage, setNotifMessage] = useState(\"\");\n  const [notifOpen, setNotifOpen] = useState(false);\n  let history = useHistory();\n\n  const validateEmail = function (email) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return email === \"\" || re.test(String(email).toLowerCase());\n  };\n\n  const sendNotif = function (message) {\n    setNotifMessage(message);\n    setNotifOpen(true);\n  };\n\n  React.useEffect(() => {\n    let value = validateEmail(email);\n\n    if (!value) {\n      setEmailHelper(\"Please enter a valid email\");\n    } else {\n      setEmailHelper(\"\");\n    }\n\n    setEmailError(!value);\n  }, [email]);\n  React.useEffect(() => {\n    let match = cpassword === \"\" || cpassword === password;\n\n    if (!match) {\n      setPasswordHelperText(\"Passwords don't match\");\n      setPasswordsMatch(false);\n    } else {\n      setPasswordHelperText(\"\");\n      setPasswordsMatch(true);\n    }\n  }, [cpassword, password]);\n\n  const register = function (e) {\n    e.preventDefault();\n    let fields = [firstName, lastName, email, password];\n    let emptyFields = fields.filter(field => field === \"\");\n\n    if (emptyFields.length > 0) {\n      sendNotif(\"Please fill all the fields\");\n      return;\n    }\n\n    if (emailError) {\n      sendNotif(\"Please enter a valid email\");\n      return;\n    }\n\n    if (passwordScore < 2) {\n      sendNotif(\"Please enter a stronger password\");\n      return;\n    }\n\n    Axios.post(api.register, {\n      user: {\n        email: email,\n        password: password,\n        firstName: firstName,\n        lastName: lastName\n      }\n    }).then(res => {\n      if (res.data.email === \"Already exists\") {\n        sendNotif(\"This email already exists\");\n      } else if (res.status === 200) {\n        history.push(\"/login\");\n      }\n\n      return;\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LockOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"form\", {\n    autoComplete: \"new-password\",\n    className: classes.form,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    label: \"First Name\",\n    name: \"firstName\",\n    value: firstName,\n    onChange: e => setFirstName(e.target.value),\n    autoComplete: \"given-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    label: \"Last Name\",\n    name: \"lastName\",\n    value: lastName,\n    onChange: e => setLastName(e.target.value),\n    autoComplete: \"family-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    error: emailError,\n    fullWidth: true,\n    label: \"Email Address\",\n    name: \"email\",\n    helperText: emailHelper,\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    autoComplete: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"new-password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    label: \"Password\",\n    type: \"password\",\n    id: \"new-password\",\n    autoComplete: \"new-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    error: !passwordsMatch,\n    name: \"confirmPassword\",\n    value: cpassword,\n    helperText: passwordHelperText,\n    onChange: e => setCpassword(e.target.value),\n    label: \" Confirm Password\",\n    type: \"password\",\n    autoComplete: \"new-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }), password.length > 0 ? /*#__PURE__*/React.createElement(PasswordStrengthBar, {\n    password: password,\n    onChangeScore: score => {\n      setPasswordScore(score);\n      console.log(score);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: register,\n    className: classes.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }\n  }, \"Register!\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"/login\",\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 15\n    }\n  }, \"Already have an account? Log in\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Box, {\n    mt: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Copyright, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Notif, {\n    message: notifMessage,\n    open: notifOpen,\n    handle: setNotifOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/ayushsalik/mernboilerplate/client/src/Login/Register.component.js"],"names":["React","useState","Avatar","passwordStrength","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","makeStyles","Container","Axios","useHistory","api","PasswordStrengthBar","Notif","Copyright","Date","getFullYear","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Register","classes","email","setEmail","emailHelper","setEmailHelper","emailError","setEmailError","password","setPassword","cpassword","setCpassword","firstName","setFirstName","lastName","setLastName","passwordHelperText","setPasswordHelperText","passwordsMatch","setPasswordsMatch","passwordScore","setPasswordScore","notifMessage","setNotifMessage","notifOpen","setNotifOpen","history","validateEmail","re","test","String","toLowerCase","sendNotif","message","useEffect","value","match","register","e","preventDefault","fields","emptyFields","filter","field","length","post","user","then","res","data","status","push","target","score","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport passwordStrength from \"zxcvbn\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport api from \"../utils/config\";\nimport PasswordStrengthBar from \"react-password-strength-bar\";\nimport Notif from \"../utils/Notification.component\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright Â© \"}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nexport default function Register() {\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const [emailHelper, setEmailHelper] = useState(\"\");\n  const [emailError, setEmailError] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [cpassword, setCpassword] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [passwordHelperText, setPasswordHelperText] = useState(\"\");\n  const [passwordsMatch, setPasswordsMatch] = useState(true);\n  const [passwordScore, setPasswordScore] = useState(0);\n  const [notifMessage, setNotifMessage] = useState(\"\");\n  const [notifOpen, setNotifOpen] = useState(false);\n\n  let history = useHistory();\n\n  const validateEmail = function(email) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return email === \"\" || re.test(String(email).toLowerCase());\n  };\n\n  const sendNotif = function(message) {\n    setNotifMessage(message);\n    setNotifOpen(true);\n  };\n\n  React.useEffect(() => {\n    let value = validateEmail(email);\n    if (!value) {\n      setEmailHelper(\"Please enter a valid email\");\n    } else {\n      setEmailHelper(\"\");\n    }\n    setEmailError(!value);\n  }, [email]);\n\n  React.useEffect(() => {\n    let match = cpassword === \"\" || cpassword === password;\n    if (!match) {\n      setPasswordHelperText(\"Passwords don't match\");\n      setPasswordsMatch(false);\n    } else {\n      setPasswordHelperText(\"\");\n      setPasswordsMatch(true);\n    }\n  }, [cpassword, password]);\n\n  const register = function(e) {\n    e.preventDefault();\n    let fields = [firstName, lastName, email, password];\n    let emptyFields = fields.filter(field => field === \"\");\n\n    if (emptyFields.length > 0) {\n      sendNotif(\"Please fill all the fields\");\n      return;\n    }\n\n    if (emailError) {\n      sendNotif(\"Please enter a valid email\");\n      return;\n    }\n    if (passwordScore < 2) {\n      sendNotif(\"Please enter a stronger password\");\n\n      return;\n    }\n\n    Axios.post(api.register, {\n      user: {\n        email: email,\n        password: password,\n        firstName: firstName,\n        lastName: lastName\n      }\n    }).then(res => {\n      if (res.data.email === \"Already exists\") {\n        sendNotif(\"This email already exists\");\n      }\n      else if (res.status === 200) {\n        history.push(\"/login\");\n      }\n      return;\n    });\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Register\n        </Typography>\n        <form autoComplete=\"new-password\" className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            label=\"First Name\"\n            name=\"firstName\"\n            value={firstName}\n            onChange={e => setFirstName(e.target.value)}\n            autoComplete=\"given-name\"\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            label=\"Last Name\"\n            name=\"lastName\"\n            value={lastName}\n            onChange={e => setLastName(e.target.value)}\n            autoComplete=\"family-name\"\n          />\n\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            error={emailError}\n            fullWidth\n            label=\"Email Address\"\n            name=\"email\"\n            helperText={emailHelper}\n            value={email}\n            onChange={e => setEmail(e.target.value)}\n            autoComplete=\"email\"\n          />\n\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"new-password\"\n            value={password}\n            onChange={e => setPassword(e.target.value)}\n            label=\"Password\"\n            type=\"password\"\n            id=\"new-password\"\n            autoComplete=\"new-password\"\n          />\n\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            error={!passwordsMatch}\n            name=\"confirmPassword\"\n            value={cpassword}\n            helperText={passwordHelperText}\n            onChange={e => setCpassword(e.target.value)}\n            label=\" Confirm Password\"\n            type=\"password\"\n            autoComplete=\"new-password\"\n          />\n          {password.length > 0 ? (\n            <PasswordStrengthBar\n              password={password}\n              onChangeScore={score => {\n                setPasswordScore(score);\n                console.log(score);\n              }}\n            />\n          ) : (\n            <p />\n          )}\n\n          <Button\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={register}\n            className={classes.submit}\n          >\n            Register!\n          </Button>\n          <Grid container>\n            <Grid item xs>\n              <Link href=\"/login\" variant=\"body2\">\n                {\"Already have an account? Log in\"}\n              </Link>\n            </Grid>\n            <Grid item></Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n      <Notif message={notifMessage} open={notifOpen} handle={setNotifOpen} />\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}