(this.webpackJsonpmernboilerplate=this.webpackJsonpmernboilerplate||[]).push([[0],{101:function(e,a,t){e.exports=t(136)},106:function(e,a,t){},136:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),o=t.n(l),c=(t(106),t(24)),i=t(31),s=(t(107),t(7)),m=t(177),u=t(169),d=t(167),p=t(171),g=t(168),f=t(174),h=t(164),E=t(170),b=t(172),v=t(27),O=t.n(v),j=t(89),w=t(165),y=t(166),C=t(13),S=t.n(C),x=t(176),N=t(163),k=t(46),W=t.n(k),P=t(173);function T(e){var a=r.a.useState(e.open),t=Object(s.a)(a,2),n=t[0],l=t[1];r.a.useEffect((function(){l(e.open)}),[e.open]);var o=function(a,t){"clickaway"!==t&&(l(!1),e.handle(!1))};return r.a.createElement("div",null,r.a.createElement(x.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,autoHideDuration:6e3,onClose:o,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{size:"small","aria-label":"close",onClick:o},r.a.createElement(W.a,{fontSize:"small"})))},r.a.createElement(P.a,{onClose:o,severity:"error"},e.message)))}var q="https://young-garden-77767.herokuapp.com/api",D={link:q,login:q+"/login",register:q+"/register",forgot:q+"/forgot",logout:q+"/logout",secret:q+"/secret",reset:function(e){return q+"/reset/"+e.ident+"/"+e.today+"-"+e.hash},verify:function(e){return q+"/verify/"+e.ident+"/"+e.today+"-"+e.hash},resetVerify:function(e){return q+"/reset/verify/"+e.ident+"/"+e.today+"-"+e.hash}};function I(){return r.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(h.a,{color:"inherit",href:"http://ayushsalik.com"},"ayushsalik.com")," ",(new Date).getFullYear(),".")}var A=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function V(){var e=A(),a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],o=t[1],c=Object(n.useState)(""),v=Object(s.a)(c,2),w=v[0],C=v[1],x=Object(n.useState)(!1),N=Object(s.a)(x,2),k=N[0],W=N[1],P=Object(n.useState)(!1),q=Object(s.a)(P,2),V=q[0],F=q[1],R=Object(n.useState)(!1),z=Object(s.a)(R,2),L=z[0],Y=z[1],B=Object(n.useState)(""),J=Object(s.a)(B,2),Z=J[0],$=(J[1],Object(n.useState)("")),H=Object(s.a)($,2),M=H[0],U=H[1],G=Object(n.useState)(!1),K=Object(s.a)(G,2),Q=K[0],X=K[1],_=Object(i.e)();return r.a.createElement(y.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("br",null),r.a.createElement(m.a,{className:e.avatar},r.a.createElement(O.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:L,helperText:Z,id:"email",label:"Email Address",name:"email",value:l,onChange:function(e){o(e.target.value)},autoComplete:"email"}),r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:V,helperText:V?"Email or password is incorrect. Please try again":"",name:"password",value:w,onChange:function(e){C(e.target.value),F(!1)},label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(g.a,{control:r.a.createElement(f.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(u.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",onClick:function(e){e.preventDefault(),S.a.post(D.login,{user:{email:l,password:w}}).then((function(e){if(e.data.error)return console.log(e.data.error),a=e.data.error,U(a),void X(!0);var a;200===e.status&&_.push("/secret")})).catch((function(e){W(!0),F(!0)}))},className:e.submit},"Sign In"),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(h.a,{href:"/forgot",variant:"body2"},"Forgot password?")),r.a.createElement(E.a,{item:!0},r.a.createElement(h.a,{href:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(b.a,{mt:8},r.a.createElement(I,null),r.a.createElement(T,{message:"Incorrect password or email. Please try again.",open:k,handle:W}),r.a.createElement(T,{message:"Please enter a valid email.",open:L,handle:Y}),r.a.createElement(T,{message:M,open:Q,handle:X})))}t(131);var F=t(56),R=t.n(F);function z(){return r.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(h.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var L=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Y(){var e=L(),a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],o=t[1],c=Object(n.useState)(""),g=Object(s.a)(c,2),f=g[0],v=g[1],w=Object(n.useState)(!1),C=Object(s.a)(w,2),x=C[0],N=C[1],k=Object(n.useState)(""),W=Object(s.a)(k,2),P=W[0],q=W[1],I=Object(n.useState)(""),A=Object(s.a)(I,2),V=A[0],F=A[1],Y=Object(n.useState)(""),B=Object(s.a)(Y,2),J=B[0],Z=B[1],$=Object(n.useState)(""),H=Object(s.a)($,2),M=H[0],U=H[1],G=Object(n.useState)(""),K=Object(s.a)(G,2),Q=K[0],X=K[1],_=Object(n.useState)(!0),ee=Object(s.a)(_,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(0),re=Object(s.a)(ne,2),le=re[0],oe=re[1],ce=Object(n.useState)(""),ie=Object(s.a)(ce,2),se=ie[0],me=ie[1],ue=Object(n.useState)(!1),de=Object(s.a)(ue,2),pe=de[0],ge=de[1],fe=Object(i.e)(),he=function(e){me(e),ge(!0)};r.a.useEffect((function(){var e=function(e){return""===e||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(l);v(e?"":"Please enter a valid email"),N(!e)}),[l]),r.a.useEffect((function(){""===V||V===P?(X(""),te(!0)):(X("Passwords don't match"),te(!1))}),[V,P]);return r.a.createElement(y.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(m.a,{className:e.avatar},r.a.createElement(O.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{autoComplete:"new-password",className:e.form,noValidate:!0},r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"First Name",name:"firstName",value:J,onChange:function(e){return Z(e.target.value)},autoComplete:"given-name"}),r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Last Name",name:"lastName",value:M,onChange:function(e){return U(e.target.value)},autoComplete:"family-name"}),r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,error:x,fullWidth:!0,label:"Email Address",name:"email",helperText:f,value:l,onChange:function(e){return o(e.target.value)},autoComplete:"email"}),r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"new-password",value:P,onChange:function(e){return q(e.target.value)},label:"Password",type:"password",id:"new-password",autoComplete:"new-password"}),r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:!ae,name:"confirmPassword",value:V,helperText:Q,onChange:function(e){return F(e.target.value)},label:" Confirm Password",type:"password",autoComplete:"new-password"}),P.length>0?r.a.createElement(R.a,{password:P,onChangeScore:function(e){oe(e),console.log(e)}}):r.a.createElement("p",null),r.a.createElement(u.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),[J,M,l,P].filter((function(e){return""===e})).length>0?he("Please fill all the fields"):x?he("Please enter a valid email"):le<2?he("Please enter a stronger password"):S.a.post(D.register,{user:{email:l,password:P,firstName:J,lastName:M}}).then((function(e){"Already exists"===e.data.email?he("This email already exists"):200===e.status&&fe.push("/login")}))},className:e.submit},"Register!"),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(h.a,{href:"/login",variant:"body2"},"Already have an account? Log in")),r.a.createElement(E.a,{item:!0})))),r.a.createElement(b.a,{mt:8},r.a.createElement(z,null)),r.a.createElement(T,{message:se,open:pe,handle:ge}))}function B(){var e=Object(i.e)();return r.a.createElement(u.a,{onClick:function(){e.push("/login"),S.a.post(D.logout)}},"Logout")}function J(e){return r.a.createElement(u.a,{onClick:function(){S.a.post(D.forgot,{email:e.email})}}," Reset ")}function Z(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(0),c=Object(s.a)(o,2),m=c[0],u=c[1],d=Object(i.e)();return Object(n.useEffect)((function(){S()(D.secret,{method:"get"}).then((function(e){l(e.data),u(e.status)})).catch((function(e){return u(401)}))})),0===m?r.a.createElement("h6",null," loading... "):200===m?r.a.createElement("div",null,r.a.createElement("h6",null," ",t.firstName+" just logged in!"," "),r.a.createElement(B,null),r.a.createElement(J,{email:t.email})):void d.push("/login")}S.a.defaults.withCredentials=!0;var $=t(71);function H(){return r.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(h.a,{color:"inherit",href:"http://ayushsalik.com"},"ayushsalik.com")," ",(new Date).getFullYear(),".")}var M=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function U(e){var a=M(),t=Object(n.useState)(""),l=Object(s.a)(t,2),o=l[0],c=l[1],g=Object(n.useState)(""),f=Object(s.a)(g,2),h=f[0],v=f[1],w=Object(n.useState)(0),C=Object(s.a)(w,2),x=C[0],N=C[1],k=Object(n.useState)(""),W=Object(s.a)(k,2),P=(W[0],W[1]),T=Object(n.useState)(!1),q=Object(s.a)(T,2),I=(q[0],q[1]),A=Object(i.e)(),V=function(e){P(e),I(!0)};return r.a.createElement(y.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(m.a,{className:a.avatar},r.a.createElement(O.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Reset Password"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(p.a,Object($.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"oldpassword",label:"Old Password",name:"oldpassword",hidden:!e.loggedIn,value:o,onChange:function(e){c(e.target.value)},autoComplete:"email"},"autoComplete","current-password")),r.a.createElement(p.a,Object($.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Password",name:"password",type:"password",value:o,onChange:function(e){c(e.target.value)},autoComplete:"email"},"autoComplete","new-password")),r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"cpassword",value:h,onChange:function(e){v(e.target.value)},label:"Confirm Password",type:"password",id:"cpassword",autoComplete:"new-password"}),o.length>0?r.a.createElement(R.a,{password:o,onChangeScore:function(e){N(e)}}):r.a.createElement("p",null),r.a.createElement(u.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",className:a.submit,onClick:function(){o===h?x<2?V("Please choose a stronger Password"):(S.a.post(D.reset(e),{password:o}),A.push("/login")):V("Passwords don't match")}},"Reset"),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,xs:!0}),r.a.createElement(E.a,{item:!0})))),r.a.createElement(b.a,{mt:8},r.a.createElement(H,null)))}function G(e){var a=e.match.params,t=a.ident,l=a.today,o=a.hash,c=Object(n.useState)(!1),i=Object(s.a)(c,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){S.a.post(D.resetVerify(e.match.params)).then((function(e){u(e.status)}))})),200===m?r.a.createElement(U,{ident:t,today:l,hash:o}):r.a.createElement("h1",null,m)}var K=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Q(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],l=a[1],o=Object(i.e)(),c=K();return r.a.createElement(y.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:c.paper},r.a.createElement(m.a,{className:c.avatar},r.a.createElement(O.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Please enter your email"),r.a.createElement("form",{className:c.form,noValidate:!0},r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:t,onChange:function(e){l(e.target.value)},autoComplete:"email"}),r.a.createElement(u.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",onClick:function(){o.push("./login"),S.a.post(D.forgot,{email:t})},className:c.submit},"Send Email"),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,xs:!0}),r.a.createElement(E.a,{item:!0})))),r.a.createElement(b.a,{mt:8}))}function X(e){var a=Object(i.e)();return Object(n.useEffect)((function(){S()(D.verify(e.match.params),{method:"post"}).then((function(e){a.push("/secret")})).catch((function(e){return a.push("/login")}))})),r.a.createElement("div",null,r.a.createElement("h6",null," Verifying Email.."))}S.a.defaults.withCredentials=!0;var _=function(){return r.a.createElement(c.a,null,r.a.createElement(i.a,{path:"/Login",component:V}),r.a.createElement(i.a,{path:"/register",component:Y}),r.a.createElement(i.a,{path:"/secret",component:Z}),r.a.createElement(i.a,{path:"/reset/:ident/:today-:hash",component:G}),r.a.createElement(i.a,{path:"/verify/:ident/:today-:hash",component:X}),r.a.createElement(i.a,{path:"/forgot",component:Q}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.2f60aa41.chunk.js.map