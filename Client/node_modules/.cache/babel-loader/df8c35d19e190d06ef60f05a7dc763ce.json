{"ast":null,"code":"var _jsxFileName = \"/Users/ayushsalik/Login/Client/src/Login/Secret.component.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport Logout from \"./Logout.component.js\";\nimport { useHistory } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport api from \"../utils/config\";\nAxios.defaults.withCredentials = true;\n\nfunction Reset(props) {\n  function reset() {\n    Axios.post(api.forgot, {\n      email: props.email\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Button, {\n    onClick: reset,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 10\n    }\n  }, \" Reset \");\n}\n\nexport default function Secret() {\n  let [user, setUser] = useState(\"\");\n  let [status, setStatus] = useState(0);\n  let history = useHistory();\n  useEffect(() => {\n    Axios(api.secret, {\n      method: \"get\"\n    }).then(res => {\n      setUser(res.data);\n      setStatus(res.status);\n    }).catch(err => setStatus(401));\n  }, []);\n\n  if (status === 0) {\n    return /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 12\n      }\n    }, \" loading... \");\n  } else if (status === 200) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, \" \", user.firstName + \" just logged in!\", \" \"), /*#__PURE__*/React.createElement(Logout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Reset, {\n      email: user.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    history.push(\"/login\");\n  }\n}","map":{"version":3,"sources":["/Users/ayushsalik/Login/Client/src/Login/Secret.component.js"],"names":["React","useState","useEffect","Axios","Logout","useHistory","Button","api","defaults","withCredentials","Reset","props","reset","post","forgot","email","Secret","user","setUser","status","setStatus","history","secret","method","then","res","data","catch","err","firstName","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AAEAJ,KAAK,CAACK,QAAN,CAAeC,eAAf,GAAiC,IAAjC;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACpB,WAASC,KAAT,GAAiB;AACfT,IAAAA,KAAK,CAACU,IAAN,CAAWN,GAAG,CAACO,MAAf,EAAuB;AAAEC,MAAAA,KAAK,EAAEJ,KAAK,CAACI;AAAf,KAAvB;AACD;;AAED,sBAAO,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEH,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAP;AACD;;AAED,eAAe,SAASI,MAAT,GAAkB;AAC/B,MAAI,CAACC,IAAD,EAAOC,OAAP,IAAkBjB,QAAQ,CAAC,EAAD,CAA9B;AACA,MAAI,CAACkB,MAAD,EAASC,SAAT,IAAsBnB,QAAQ,CAAC,CAAD,CAAlC;AAEA,MAAIoB,OAAO,GAAGhB,UAAU,EAAxB;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CAACI,GAAG,CAACe,MAAL,EAAa;AAChBC,MAAAA,MAAM,EAAE;AADQ,KAAb,CAAL,CAGGC,IAHH,CAGQC,GAAG,IAAI;AACXP,MAAAA,OAAO,CAACO,GAAG,CAACC,IAAL,CAAP;AACAN,MAAAA,SAAS,CAACK,GAAG,CAACN,MAAL,CAAT;AACD,KANH,EAOGQ,KAPH,CAOSC,GAAG,IAAIR,SAAS,CAAC,GAAD,CAPzB;AAQD,GATQ,EASP,EATO,CAAT;;AAWA,MAAID,MAAM,KAAK,CAAf,EAAkB;AAChB,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AACD,GAFD,MAEO,IAAIA,MAAM,KAAK,GAAf,EAAoB;AACzB,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMF,IAAI,CAACY,SAAL,GAAiB,kBAAvB,MADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEZ,IAAI,CAACF,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF;AAOD,GARM,MAQA;AACLM,IAAAA,OAAO,CAACS,IAAR,CAAa,QAAb;AACD;AACF","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport Logout from \"./Logout.component.js\";\nimport { useHistory } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport api from \"../utils/config\";\n\nAxios.defaults.withCredentials = true;\n\nfunction Reset(props) {\n  function reset() {\n    Axios.post(api.forgot, { email: props.email });\n  }\n\n  return <Button onClick={reset} > Reset </Button>;\n}\n\nexport default function Secret() {\n  let [user, setUser] = useState(\"\");\n  let [status, setStatus] = useState(0);\n\n  let history = useHistory();\n\n  useEffect(() => {\n    Axios(api.secret, {\n      method: \"get\"\n    })\n      .then(res => {\n        setUser(res.data);\n        setStatus(res.status)\n      })\n      .catch(err => setStatus(401));\n  },[]);\n\n  if (status === 0) {\n    return <h6> loading... </h6>;\n  } else if (status === 200) {\n    return (\n      <div>\n        <h6> {user.firstName + \" just logged in!\"} </h6>\n        <Logout />\n        <Reset email={user.email} />\n      </div>\n    );\n  } else {\n    history.push(\"/login\")\n  }\n}\n"]},"metadata":{},"sourceType":"module"}